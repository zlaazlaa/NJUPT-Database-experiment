webpackJsonp([1],{"7Otq":function(e,t){e.exports="data:image/png;base64,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"},"8hfl":function(e,t){},MFx6:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("img",{attrs:{src:a("7Otq")}}),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App",methods:{goToTicket:function(){this.$router.push("/ticket")},goToSearch:function(){this.$router.push("/search")}}},i,!1,function(e){a("zArQ")},null,null).exports,n=a("/ocq"),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._v(" "),a("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),a("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),a("br"),e._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},s,!1,function(e){a("RqNW")},"data-v-3b884edb",null).exports;var l,u=a("bOdI"),d=a.n(u),m=a("mtWM"),c=a("zL8q"),v={components:(l={},d()(l,c.Button.name,c.Button),d()(l,c.Table.name,c.Table),d()(l,c.TableColumn.name,c.TableColumn),d()(l,c.Input.name,c.Input),d()(l,c.Dialog.name,c.Dialog),d()(l,c.Form.name,c.Form),d()(l,c.FormItem.name,c.FormItem),d()(l,c.DatePicker.name,c.DatePicker),d()(l,c.InputNumber.name,c.InputNumber),d()(l,c.Select.name,c.Select),d()(l,c.Option.name,c.Option),l),data:function(){return{searchForm:{flightNumber:""},ticketList:[],dialogVisible:!1,form:{id:"",flightNumber:"",departure:"",destination:"",departureTime:"",arrivalTime:"",availableSeats:"",price:"",discountPrice:"",discountRate:"",airline:""},rules:{flightNumber:[{required:!0,message:"请输入航班号",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],departure:[{required:!0,message:"请输入起点",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],destination:[{required:!0,message:"请输入终点",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],departureTime:[{type:"date",required:!0,message:"请选择起飞时刻",trigger:"change"}],arrivalTime:[{type:"date",required:!0,message:"请选择到达时刻",trigger:"change"}],availableSeats:[{type:"number",required:!0,message:"请输入剩余座位数",trigger:"blur"}],price:[{type:"number",required:!0,message:"请输入票价",trigger:"blur"}],discountPrice:[{type:"number",required:!0,message:"请输入折扣票价",trigger:"blur"}],discountRate:[{type:"number",required:!0,message:"请输入折扣率",trigger:"blur"}],airline:[{required:!0,message:"请选择航班所属航空公司",trigger:"change"}]},isAdd:!0,multipleSelection:[]}},methods:{getTicketList:function(){var e=this;m.a.get("https://database-experiment-flask.azurewebsites.net/query").then(function(t){200===t.data.code?e.ticketList=t.data.data:e.$message.error("获取数据失败")}).catch(function(t){console.log(t),e.$message.error("获取数据失败")})},searchTicket:function(){var e=this;m.a.get("https://database-experiment-flask.azurewebsites.net/query",{params:{flightNumber:this.searchForm.flightNumber}}).then(function(t){200===t.data.code?e.ticketList=t.data.data:e.$message.error("搜索数据失败")}).catch(function(t){console.log(t),e.$message.error("搜索数据失败")})},showAddDialog:function(){this.dialogVisible=!0,this.isAdd=!0,this.form={id:"",flightNumber:"",departure:"",destination:"",departureTime:"",arrivalTime:"",availableSeats:"",price:"",discountPrice:"",discountRate:"",airline:""}},showUpdateDialog:function(e){this.dialogVisible=!0,this.isAdd=!1,this.form={id:e.id,flightNumber:e.flightNumber,departure:e.departure,destination:e.destination,departureTime:e.departureTime,arrivalTime:e.arrivalTime,availableSeats:e.availableSeats,price:e.price,discountPrice:e.discountPrice,discountRate:e.discountRate,airline:e.airline}},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.warning("请完善表单信息"),!1;t.isAdd?m.a.post("https://database-experiment-flask.azurewebsites.net/insert",t.form).then(function(e){200===e.data.code?(t.$message.success("添加成功"),t.dialogVisible=!1,t.getTicketList()):t.$message.error("添加失败")}).catch(function(e){console.log(e),t.$message.error("添加失败")}):m.a.put("https://database-experiment-flask.azurewebsites.net/update",t.form).then(function(e){200===e.data.code?(t.$message.success("修改成功"),t.dialogVisible=!1,t.getTicketList()):t.$message.error("修改失败")}).catch(function(e){console.log(e),t.$message.error("修改失败")})})},deleteTicket:function(e){var t=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){m.a.delete("https://database-experiment-flask.azurewebsites.net/delete?id="+e).then(function(e){200===e.data.code?(t.$message.success("删除成功"),t.getTicketList()):t.$message.error("删除失败")}).catch(function(e){console.log(e),t.$message.error("删除失败")})}).catch(function(){t.$message.info("已取消删除")})},batchDeleteTicket:function(){var e=this;if(0===this.multipleSelection.length)this.$message.warning("请至少选择一条数据");else{var t=this.multipleSelection.map(function(e){return e.id}).join(",");this.$confirm("此操作将永久删除这"+this.multipleSelection.length+"条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){m.a.delete("https://database-experiment-flask.azurewebsites.net/delete?id="+t).then(function(t){console.log(t),200===t.data.code?(e.$message.success("批量删除成功"),e.getTicketList()):e.$message.error("批量删除失败")}).catch(function(t){console.log(t),e.$message.error("批量删除失败")})}).catch(function(){e.$message.info("已取消批量删除")})}},handleSelectionChange:function(e){this.multipleSelection=e},handleClose:function(e){var t=this;this.$confirm("确认关闭？").then(function(a){e(),t.form={id:"",flightNumber:"",departure:"",destination:"",departureTime:"",arrivalTime:"",availableSeats:"",price:"",discountPrice:"",discountRate:"",airline:""},t.$refs.form.resetFields()}).catch(function(e){})}},mounted:function(){this.getTicketList()}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("div",{staticClass:"ticket"},[a("div",{staticClass:"search"},[a("el-input",{attrs:{placeholder:"请输入航班号"},model:{value:e.searchForm.flightNumber,callback:function(t){e.$set(e.searchForm,"flightNumber",t)},expression:"searchForm.flightNumber"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.searchTicket}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.showAddDialog}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.batchDeleteTicket}},[e._v("批量删除")])],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{attrs:{data:e.ticketList,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"flightNumber",label:"航班号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"departure",label:"起点",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"destination",label:"终点",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"departureTime",label:"起飞时刻",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"arrivalTime",label:"到达时刻",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"availableSeats",label:"剩余座位数",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"票价",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"discountPrice",label:"折扣票价",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"discountRate",label:"折扣率",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"airline",label:"航班所属航空公司",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.showUpdateDialog(r)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteTicket(r.id)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"dialog"},[a("el-dialog",{attrs:{title:"新增或修改票务信息",visible:e.dialogVisible,"before-close":e.handleClose,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"form"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"航班号",prop:"flightNumber"}},[a("el-input",{attrs:{placeholder:"请输入航班号",clearable:""},model:{value:e.form.flightNumber,callback:function(t){e.$set(e.form,"flightNumber",t)},expression:"form.flightNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"起点",prop:"departure"}},[a("el-input",{attrs:{placeholder:"请输入起点",clearable:""},model:{value:e.form.departure,callback:function(t){e.$set(e.form,"departure",t)},expression:"form.departure"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"终点",prop:"destination"}},[a("el-input",{attrs:{placeholder:"请输入终点",clearable:""},model:{value:e.form.destination,callback:function(t){e.$set(e.form,"destination",t)},expression:"form.destination"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"起飞时刻",prop:"departureTime"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择起飞时刻"},model:{value:e.form.departureTime,callback:function(t){e.$set(e.form,"departureTime",t)},expression:"form.departureTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"到达时刻",prop:"arrivalTime"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择到达时刻"},model:{value:e.form.arrivalTime,callback:function(t){e.$set(e.form,"arrivalTime",t)},expression:"form.arrivalTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"剩余座位数",prop:"availableSeats"}},[a("el-input-number",{attrs:{min:0,max:200,"controls-position":"right",placeholder:"0"},model:{value:e.form.availableSeats,callback:function(t){e.$set(e.form,"availableSeats",t)},expression:"form.availableSeats"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"票价",prop:"price"}},[a("el-input-number",{attrs:{min:0,max:1e4,"controls-position":"right",placeholder:"0"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折扣票价",prop:"discountPrice"}},[a("el-input-number",{attrs:{min:0,max:1e4,"controls-position":"right",placeholder:"0"},model:{value:e.form.discountPrice,callback:function(t){e.$set(e.form,"discountPrice",t)},expression:"form.discountPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折扣率",prop:"discountRate"}},[a("el-input-number",{attrs:{min:0,max:1,step:.01,"controls-position":"right",placeholder:"0"},model:{value:e.form.discountRate,callback:function(t){e.$set(e.form,"discountRate",t)},expression:"form.discountRate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"航班所属航空公司",prop:"airline"}},[a("el-select",{attrs:{placeholder:"请选择航班所属航空公司"},model:{value:e.form.airline,callback:function(t){e.$set(e.form,"airline",t)},expression:"form.airline"}},[a("el-option",{attrs:{label:"中国国际航空",value:"中国国际航空"}}),e._v(" "),a("el-option",{attrs:{label:"中国南方航空",value:"中国南方航空"}}),e._v(" "),a("el-option",{attrs:{label:"中国东方航空",value:"中国东方航空"}}),e._v(" "),a("el-option",{attrs:{label:"海南航空",value:"海南航空"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v(" 确 定 ")])],1)])],1)]),e._v(" "),a("el-header"),e._v(" "),a("el-main",[a("div",{staticClass:"table"})]),e._v(" "),a("el-footer")],1)},staticRenderFns:[]};var f=a("VU/8")(v,p,!1,function(e){a("XY3R")},"data-v-92b54016",null).exports,h=a("mvHQ"),b=a.n(h),g={data:function(){return{tickets:[],queryFlightNumber:"",queryDate:"",isModalVisible:!1,isEditMode:!1,form:{id:"",flightNumber:"",departure:"",destination:"",date:"",departureTime:"",arrivalTime:"",availableSeats:"",price:"",discountPrice:"",discountRate:"",airline:""}}},mounted:function(){this.showTickets()},methods:{showTickets:function(){var e=this;fetch("https://database-experiment-flask.azurewebsites.net/tickets").then(function(e){return e.json()}).then(function(t){200===t.code?e.tickets=t.data:alert("获取机票失败")})},queryTickets:function(){var e=this,t={};this.queryFlightNumber&&(t.flightNumber=this.queryFlightNumber),this.queryDate&&(t.date=this.queryDate),fetch("https://database-experiment-flask.azurewebsites.net/query",{method:"POST",headers:{"Content-Type":"application/json"},body:b()(t)}).then(function(e){return e.json()}).then(function(t){200===t.code?e.tickets=t.data:alert("查询机票失败")})},showModal:function(){this.isModalVisible=!0,this.isEditMode=!1,this.form={id:"",flightNumber:"",departure:"",destination:"",date:"",departureTime:"",arrivalTime:"",availableSeats:"",price:"",discountPrice:"",discountRate:"",airline:""}},closeModal:function(){this.isModalVisible=!1}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("h1",[e._v("机票查询——B21090117朱梓烨")]),e._v(" "),a("div",{staticClass:"search-bar"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.queryFlightNumber,expression:"queryFlightNumber"}],attrs:{type:"text",placeholder:"航班号"},domProps:{value:e.queryFlightNumber},on:{input:function(t){t.target.composing||(e.queryFlightNumber=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.queryDate,expression:"queryDate"}],attrs:{type:"date",placeholder:"日期"},domProps:{value:e.queryDate},on:{input:function(t){t.target.composing||(e.queryDate=t.target.value)}}}),e._v(" "),a("button",{staticClass:"btn btn-search",on:{click:e.queryTickets}},[e._v("查询")])]),e._v(" "),a("table",{staticClass:"centered-table"},[e._m(0),e._v(" "),a("tbody",e._l(e.tickets,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.flightNumber))]),e._v(" "),a("td",[e._v(e._s(t.departure))]),e._v(" "),a("td",[e._v(e._s(t.destination))]),e._v(" "),a("td",[e._v(e._s(t.date))]),e._v(" "),a("td",[e._v(e._s(t.departureTime))]),e._v(" "),a("td",[e._v(e._s(t.arrivalTime))]),e._v(" "),a("td",[e._v(e._s(t.availableSeats))]),e._v(" "),a("td",[e._v(e._s(t.price))]),e._v(" "),a("td",[e._v(e._s(t.discountPrice))]),e._v(" "),a("td",[e._v(e._s(t.discountRate))]),e._v(" "),a("td",[e._v(e._s(t.airline))])])}),0)]),e._v(" "),e.isModalVisible?a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content"},[a("h2",[e._v(e._s(e.isEditMode?"编辑机票":"添加机票"))]),e._v(" "),a("form",{on:{submit:function(t){t.preventDefault(),e.isEditMode?e.updateTicket():e.addTicket()}}},[a("label",{attrs:{for:"flightNumber"}},[e._v("航班号:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.flightNumber,expression:"form.flightNumber"}],attrs:{type:"text",id:"flightNumber",required:""},domProps:{value:e.form.flightNumber},on:{input:function(t){t.target.composing||e.$set(e.form,"flightNumber",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"departure"}},[e._v("出发地:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.departure,expression:"form.departure"}],attrs:{type:"text",id:"departure",required:""},domProps:{value:e.form.departure},on:{input:function(t){t.target.composing||e.$set(e.form,"departure",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"destination"}},[e._v("目的地:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.destination,expression:"form.destination"}],attrs:{type:"text",id:"destination",required:""},domProps:{value:e.form.destination},on:{input:function(t){t.target.composing||e.$set(e.form,"destination",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"date"}},[e._v("日期:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date,expression:"form.date"}],attrs:{type:"date",id:"date",required:""},domProps:{value:e.form.date},on:{input:function(t){t.target.composing||e.$set(e.form,"date",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"departureTime"}},[e._v("出发时刻:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.departureTime,expression:"form.departureTime"}],attrs:{type:"text",id:"departureTime",required:""},domProps:{value:e.form.departureTime},on:{input:function(t){t.target.composing||e.$set(e.form,"departureTime",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"arrivalTime"}},[e._v("到达时刻:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.arrivalTime,expression:"form.arrivalTime"}],attrs:{type:"text",id:"arrivalTime",required:""},domProps:{value:e.form.arrivalTime},on:{input:function(t){t.target.composing||e.$set(e.form,"arrivalTime",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"availableSeats"}},[e._v("剩余座位数:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.availableSeats,expression:"form.availableSeats"}],attrs:{type:"number",id:"availableSeats",required:""},domProps:{value:e.form.availableSeats},on:{input:function(t){t.target.composing||e.$set(e.form,"availableSeats",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"price"}},[e._v("票价:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.price,expression:"form.price"}],attrs:{type:"number",id:"price",required:""},domProps:{value:e.form.price},on:{input:function(t){t.target.composing||e.$set(e.form,"price",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"discountPrice"}},[e._v("折扣票价:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.discountPrice,expression:"form.discountPrice"}],attrs:{type:"number",id:"discountPrice",required:""},domProps:{value:e.form.discountPrice},on:{input:function(t){t.target.composing||e.$set(e.form,"discountPrice",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"discountRate"}},[e._v("折扣率:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.discountRate,expression:"form.discountRate"}],attrs:{type:"number",id:"discountRate",required:""},domProps:{value:e.form.discountRate},on:{input:function(t){t.target.composing||e.$set(e.form,"discountRate",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"airline"}},[e._v("航空公司:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.airline,expression:"form.airline"}],attrs:{type:"text",id:"airline",required:""},domProps:{value:e.form.airline},on:{input:function(t){t.target.composing||e.$set(e.form,"airline",t.target.value)}}}),e._v(" "),a("div",{staticClass:"modal-buttons"},[a("button",{staticClass:"btn btn-submit"},[e._v(e._s(e.isEditMode?"保存":"添加"))]),e._v(" "),a("button",{staticClass:"btn btn-cancel",on:{click:e.closeModal}},[e._v("取消")])])])])]):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("航班号")]),e._v(" "),a("th",[e._v("出发地")]),e._v(" "),a("th",[e._v("目的地")]),e._v(" "),a("th",[e._v("日期")]),e._v(" "),a("th",[e._v("出发时刻")]),e._v(" "),a("th",[e._v("到达时刻")]),e._v(" "),a("th",[e._v("剩余座位数")]),e._v(" "),a("th",[e._v("票价")]),e._v(" "),a("th",[e._v("折扣票价")]),e._v(" "),a("th",[e._v("折扣率")]),e._v(" "),a("th",[e._v("航空公司")])])])}]};var T=a("VU/8")(g,_,!1,function(e){a("8hfl")},"data-v-2d3a6445",null).exports,k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("h1",{staticClass:"title"},[this._v("欢迎使用票务管理系统——B21090117朱梓烨")]),this._v(" "),t("div",{staticClass:"buttons"},[t("button",{on:{click:this.goToLogin}},[this._v("票务管理")]),this._v(" "),t("button",{on:{click:this.goToSearch}},[this._v("票务查询")])])])},staticRenderFns:[]};var y=a("VU/8")({methods:{goToLogin:function(){this.$router.push("/login")},goToSearch:function(){this.$router.push("/search")}}},k,!1,function(e){a("Q2YZ")},"data-v-58b10831",null).exports,x={data:function(){return{username:"admin",password:"admin"}},methods:{login:function(){"admin"===this.username&&"admin"===this.password?(alert("登录成功"),this.$router.push("/manage")):alert("账号或密码错误")}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",{staticClass:"title"},[e._v("票务管理系统登录——B20090611zzzy马青宇")]),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"username"}},[e._v("账号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{id:"username",type:"text",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"password"}},[e._v("密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",type:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("button",{attrs:{type:"submit"}},[e._v("登录")])])])},staticRenderFns:[]};var N=a("VU/8")(x,w,!1,function(e){a("MFx6")},"data-v-7151587e",null).exports,q={data:function(){return{tickets:[],queryFlightNumber:"",queryDate:"",isModalVisible:!1,isEditMode:!1,form:{id:"",flightNumber:"",departure:"",destination:"",date:"",departureTime:"",arrivalTime:"",availableSeats:"",price:"",discountPrice:"",discountRate:"",airline:""}}},mounted:function(){this.showTickets()},methods:{showTickets:function(){var e=this;fetch("https://database-experiment-flask.azurewebsites.net/tickets").then(function(e){return e.json()}).then(function(t){200===t.code?e.tickets=t.data:alert("获取机票失败")})},addTicket:function(){var e=this;fetch("https://database-experiment-flask.azurewebsites.net/add",{method:"POST",headers:{"Content-Type":"application/json"},body:b()(this.form)}).then(function(e){return e.json()}).then(function(t){200===t.code?(e.closeModal(),e.showTickets()):alert("添加机票失败")})},editTicket:function(e){var t=this;fetch("https://database-experiment-flask.azurewebsites.net/ticket/"+e).then(function(e){return e.json()}).then(function(e){200===e.code?(t.isModalVisible=!0,t.isEditMode=!0,t.form=e.data):alert("获取机票信息失败")})},updateTicket:function(){var e=this;fetch("https://database-experiment-flask.azurewebsites.net/update/"+this.form.id,{method:"POST",headers:{"Content-Type":"application/json"},body:b()(this.form)}).then(function(e){return e.json()}).then(function(t){200===t.code?(e.closeModal(),e.showTickets()):alert("更新机票失败")})},deleteTicket:function(e){var t=this;confirm("确认删除该机票吗？")&&fetch("https://database-experiment-flask.azurewebsites.net/delete/"+e,{method:"POST"}).then(function(e){return e.json()}).then(function(e){200===e.code?t.showTickets():alert("删除机票失败")})},queryTickets:function(){var e=this,t={};this.queryFlightNumber&&(t.flightNumber=this.queryFlightNumber),this.queryDate&&(t.date=this.queryDate),fetch("https://database-experiment-flask.azurewebsites.net/query",{method:"POST",headers:{"Content-Type":"application/json"},body:b()(t)}).then(function(e){return e.json()}).then(function(t){200===t.code?e.tickets=t.data:alert("查询机票失败")})},showModal:function(){this.isModalVisible=!0,this.isEditMode=!1,this.form={id:"",flightNumber:"",departure:"",destination:"",date:"",departureTime:"",arrivalTime:"",availableSeats:"",price:"",discountPrice:"",discountRate:"",airline:""}},closeModal:function(){this.isModalVisible=!1}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("h1",[e._v("机票管理——B21090117朱梓烨")]),e._v(" "),a("div",{staticClass:"search-bar"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.queryFlightNumber,expression:"queryFlightNumber"}],attrs:{type:"text",placeholder:"航班号"},domProps:{value:e.queryFlightNumber},on:{input:function(t){t.target.composing||(e.queryFlightNumber=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.queryDate,expression:"queryDate"}],attrs:{type:"date",placeholder:"日期"},domProps:{value:e.queryDate},on:{input:function(t){t.target.composing||(e.queryDate=t.target.value)}}}),e._v(" "),a("button",{staticClass:"btn btn-query",on:{click:e.queryTickets}},[e._v("查询")])]),e._v(" "),a("button",{staticClass:"btn btn-add",on:{click:e.showModal}},[e._v("添加机票")]),e._v(" "),a("table",{staticClass:"centered-table"},[e._m(0),e._v(" "),a("tbody",e._l(e.tickets,function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.flightNumber))]),e._v(" "),a("td",[e._v(e._s(t.departure))]),e._v(" "),a("td",[e._v(e._s(t.destination))]),e._v(" "),a("td",[e._v(e._s(t.date))]),e._v(" "),a("td",[e._v(e._s(t.departureTime))]),e._v(" "),a("td",[e._v(e._s(t.arrivalTime))]),e._v(" "),a("td",[e._v(e._s(t.availableSeats))]),e._v(" "),a("td",[e._v(e._s(t.price))]),e._v(" "),a("td",[e._v(e._s(t.discountPrice))]),e._v(" "),a("td",[e._v(e._s(t.discountRate))]),e._v(" "),a("td",[e._v(e._s(t.airline))]),e._v(" "),a("td",[a("button",{staticClass:"btn btn-edit",on:{click:function(a){return e.editTicket(t.id)}}},[e._v("编辑")]),e._v(" "),a("button",{staticClass:"btn btn-delete",on:{click:function(a){return e.deleteTicket(t.id)}}},[e._v("删除")])])])}),0)]),e._v(" "),e.isModalVisible?a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content"},[a("h2",[e._v(e._s(e.isEditMode?"编辑机票":"添加机票"))]),e._v(" "),a("form",{on:{submit:function(t){t.preventDefault(),e.isEditMode?e.updateTicket():e.addTicket()}}},[a("label",{attrs:{for:"flightNumber"}},[e._v("航班号:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.flightNumber,expression:"form.flightNumber"}],attrs:{type:"text",id:"flightNumber",required:""},domProps:{value:e.form.flightNumber},on:{input:function(t){t.target.composing||e.$set(e.form,"flightNumber",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"departure"}},[e._v("出发地:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.departure,expression:"form.departure"}],attrs:{type:"text",id:"departure",required:""},domProps:{value:e.form.departure},on:{input:function(t){t.target.composing||e.$set(e.form,"departure",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"destination"}},[e._v("目的地:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.destination,expression:"form.destination"}],attrs:{type:"text",id:"destination",required:""},domProps:{value:e.form.destination},on:{input:function(t){t.target.composing||e.$set(e.form,"destination",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"date"}},[e._v("日期:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.date,expression:"form.date"}],attrs:{type:"date",id:"date",required:""},domProps:{value:e.form.date},on:{input:function(t){t.target.composing||e.$set(e.form,"date",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"departureTime"}},[e._v("出发时刻:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.departureTime,expression:"form.departureTime"}],attrs:{type:"text",id:"departureTime",required:""},domProps:{value:e.form.departureTime},on:{input:function(t){t.target.composing||e.$set(e.form,"departureTime",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"arrivalTime"}},[e._v("到达时刻:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.arrivalTime,expression:"form.arrivalTime"}],attrs:{type:"text",id:"arrivalTime",required:""},domProps:{value:e.form.arrivalTime},on:{input:function(t){t.target.composing||e.$set(e.form,"arrivalTime",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"availableSeats"}},[e._v("剩余座位数:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.availableSeats,expression:"form.availableSeats"}],attrs:{type:"number",id:"availableSeats",required:""},domProps:{value:e.form.availableSeats},on:{input:function(t){t.target.composing||e.$set(e.form,"availableSeats",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"price"}},[e._v("票价:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.price,expression:"form.price"}],attrs:{type:"number",id:"price",required:""},domProps:{value:e.form.price},on:{input:function(t){t.target.composing||e.$set(e.form,"price",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"discountPrice"}},[e._v("折扣票价:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.discountPrice,expression:"form.discountPrice"}],attrs:{type:"number",id:"discountPrice",required:""},domProps:{value:e.form.discountPrice},on:{input:function(t){t.target.composing||e.$set(e.form,"discountPrice",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"discountRate"}},[e._v("折扣率:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.discountRate,expression:"form.discountRate"}],attrs:{type:"number",id:"discountRate",required:""},domProps:{value:e.form.discountRate},on:{input:function(t){t.target.composing||e.$set(e.form,"discountRate",t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"airline"}},[e._v("航空公司:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.airline,expression:"form.airline"}],attrs:{type:"text",id:"airline",required:""},domProps:{value:e.form.airline},on:{input:function(t){t.target.composing||e.$set(e.form,"airline",t.target.value)}}}),e._v(" "),a("button",{staticClass:"btn btn-submit",attrs:{type:"submit"}},[e._v(e._s(e.isEditMode?"更新":"添加"))]),e._v(" "),a("button",{staticClass:"btn btn-cancel",on:{click:e.closeModal}},[e._v("取消")])])])]):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("航班号")]),e._v(" "),a("th",[e._v("出发地")]),e._v(" "),a("th",[e._v("目的地")]),e._v(" "),a("th",[e._v("日期")]),e._v(" "),a("th",[e._v("出发时刻")]),e._v(" "),a("th",[e._v("到达时刻")]),e._v(" "),a("th",[e._v("剩余座位数")]),e._v(" "),a("th",[e._v("票价")]),e._v(" "),a("th",[e._v("折扣票价")]),e._v(" "),a("th",[e._v("折扣率")]),e._v(" "),a("th",[e._v("航空公司")]),e._v(" "),a("th",[e._v("操作")])])])}]};var P=a("VU/8")(q,A,!1,function(e){a("rTRZ")},"data-v-86653bb2",null).exports;r.default.use(n.a);var S=new n.a({routes:[{path:"/",name:"HelloWorld",component:y},{path:"/ticket",name:"ticket",component:f},{path:"/search",name:"search",component:T},{path:"/main",name:"main",component:y},{path:"/login",name:"login",component:N},{path:"/manage",name:"manage",component:P}]});r.default.config.productionTip=!1,new r.default({el:"#app",router:S,components:{App:o},template:"<App/>"})},Q2YZ:function(e,t){},RqNW:function(e,t){},XY3R:function(e,t){},rTRZ:function(e,t){},zArQ:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5c1a086b65d0a3006669.js.map